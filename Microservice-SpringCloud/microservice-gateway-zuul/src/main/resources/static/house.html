<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script type="text/javascript" src="../js/jquery.min.js" ></script>
<script>
    function order() {
        $.ajax({
            type : "GET",
            async: true,
            url : "house/list",
            dataType : "json",        //返回数据形式为json
            data: $('#form1').serialize(),
            success : function(result) {
                var str = "";
                var data = result.data;
                for(var i=0;i<data.length ;i++){
                    str += "<tr>" +
                        "<td><a href=\"javascript:detail(\'"+data[i].id+"')\">" + data[i].title + "</a></td>" +
                        "<td>" + data[i].price + "</td>" +
                        "<td>" + data[i].time + "</td>" +
                        "<td>" + data[i].sale + "</td>" +
                        "</tr>";
                }
                $("#t_body").html("");
                $("#t_body").append(str);
            },
            error : function(errorMsg) {

            }
        })
    }
</script>
<body onload="order()">
<a href="housePost.html">发布帖子</a></br>
<a href="houseList.html">我的帖子</a>
<form id="form1" onsubmit="return false" action="##" >
    关键词<input type="text" name="keyword" id="keyword"/><br>
    排序方式：</br>
    按销量排序<input type="radio" name="orderBy" id="orderBy1" value="sale"/><br>
    按时间排序<input type="radio" name="orderBy" id="orderBy2" value="time"/><br>
    按价格排序<input type="radio" name="orderBy" id="orderBy3" value="price"/><br>
    <input type="button" value="提交" onclick="order()">
</form>

<table  style="height:400px;margin-bottom: 0px;" class="table table-bordered">
    <thead>
    <tr>
        <th>标题</th>
        <th>价格</th>
        <th>时间</th>
        <th>销量</th>
    </tr>
    </thead>
    <tbody id="t_body">
    </tbody>
</table>
</body>
<script>
    function detail(houseId) {
        sessionStorage.removeItem("houseId");
        sessionStorage.setItem("houseId", houseId);
        window.location.href = 'houseInfoDetail.html';
    }
</script>

</html>